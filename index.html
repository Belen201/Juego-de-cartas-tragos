<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de la Oca de Beber - Caracol</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f7f7f7;
        }
        h1 {
            margin-bottom: 20px;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .tablero {
            display: grid;
            grid-template-columns: repeat(6, 60px);
            grid-template-rows: repeat(6, 60px);
            gap: 5px;
            justify-content: center;
            margin: 20px auto;
        }
        .casilla {
            width: 60px;
            height: 60px;
            background-color: #3498db;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            border-radius: 5px;
            position: relative;
        }
        .ficha {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            position: absolute;
            bottom: 5px;
        }
        .ficha.jugador1 {
            background-color: red;
        }
        .ficha.jugador2 {
            background-color: blue;
        }
        .ficha.jugador3 {
            background-color: green;
        }
        .ficha.jugador4 {
            background-color: yellow;
        }
        .ficha.jugador5 {
            background-color: purple;
        }
        .ficha.jugador6 {
            background-color: orange;
        }
    </style>
</head>
<body>

    <h1>Juego de la Oca de Beber - Caracol</h1>

    <div id="oca" class="section active">
        <h2>Tablero</h2>
        <div class="tablero" id="tablero"></div>
        <div id="acciones">
            <div id="turnoJugador"></div>
            <button id="lanzarDado">Lanzar Dado</button>
            <p id="resultadoDado"></p>
            <p id="mensajeAccion"></p>
        </div>
    </div>

    <script>
        // Definición de las casillas y sus acciones
        const casillas = [
            "Inicio", "Bebe 1 trago", "Manda 2 tragos", "Yo nunca", "Bebe 3 tragos", 
            "El más probable que", "Salta un turno", "Chupito", "Manda 3 tragos", "Yo nunca", 
            "Bebe 2 tragos", "Retrocede 2 casillas", "Manda 4 tragos", "Chupito", "El más probable que", 
            "Bebe 4 tragos", "Manda 5 tragos", "Yo nunca", "Bebe 1 trago", "Bebe 2 tragos",
            "Bebe 3 tragos", "Bebe 4 tragos", "Chupito", "Yo nunca", "Retrocede 3 casillas",
            "Manda 2 tragos", "Chupito", "Salta un turno", "Manda 4 tragos", "El más probable que", 
            "Bebe 5 tragos", "Yo nunca", "Manda 3 tragos", "Chupito", "Salta un turno", "Fin"
        ];

        // Definir la disposición de las casillas en forma de caracol
        const snailPattern = [
            0, 1, 2, 3, 4, 5, 11, 17, 23, 29, 35, 34, 33, 32, 31, 30, 24, 18, 12, 6, 7, 8, 9, 10, 16, 22, 28, 27, 26, 25, 19, 13, 14, 15, 21, 20
        ];

        const tablero = document.getElementById("tablero");

        // Crear el tablero visualmente
        for (let i = 0; i < 36; i++) {
            const divCasilla = document.createElement("div");
            divCasilla.classList.add("casilla");
            const index = snailPattern[i];  // Asignar las casillas según el patrón de caracol
            divCasilla.innerText = `${index + 1}\n${casillas[index]}`; // Mostrar el número de la casilla y la acción
            tablero.appendChild(divCasilla);
        }

        // Máximo 6 jugadores, con fichas de diferentes colores
        const jugadores = [
            { nombre: "Jugador 1", posicion: 0, ficha: "jugador1" },
            { nombre: "Jugador 2", posicion: 0, ficha: "jugador2" },
            { nombre: "Jugador 3", posicion: 0, ficha: "jugador3" },
            { nombre: "Jugador 4", posicion: 0, ficha: "jugador4" },
            { nombre: "Jugador 5", posicion: 0, ficha: "jugador5" },
            { nombre: "Jugador 6", posicion: 0, ficha: "jugador6" }
        ];

        let turnoActual = 0;

        const turnoJugadorDiv = document.getElementById("turnoJugador");
        const botonDado = document.getElementById("lanzarDado");
        const resultadoDado = document.getElementById("resultadoDado");
        const mensajeAccion = document.getElementById("mensajeAccion");

        turnoJugadorDiv.innerText = `Turno de: ${jugadores[turnoActual].nombre}`;

        // Añadir las fichas al tablero
        jugadores.forEach(jugador => {
            const ficha = document.createElement("div");
            ficha.classList.add("ficha", jugador.ficha);
            tablero.children[snailPattern[0]].appendChild(ficha); // Iniciar en la casilla 0 (Inicio)
            jugador.elementoFicha = ficha; // Guardar referencia al elemento de la ficha
        });

        // Función para lanzar el dado y mover la ficha
        botonDado.addEventListener("click", () => {
            const dado = Math.floor(Math.random() * 6) + 1;
            resultadoDado.innerText = `El dado ha salido: ${dado}`;

            // Mover al jugador en función del dado
            jugadores[turnoActual].posicion += dado;

            if (jugadores[turnoActual].posicion >= casillas.length - 1) {
                mensajeAccion.innerText = `${jugadores[turnoActual].nombre} ha ganado! ¡Fin del juego!`;
                botonDado.disabled = true;
                return;
            }

            // Mover la ficha visualmente
            moverFicha(jugadores[turnoActual]);

            const casillaActual = casillas[jugadores[turnoActual].posicion];
            mensajeAccion.innerText = `${jugadores[turnoActual].nombre} ha caído en la casilla ${jugadores[turnoActual].posicion + 1}: ${casillaActual}`;

            // Pasar el turno al siguiente jugador
            turnoActual = (turnoActual + 1) % jugadores.length;
            turnoJugadorDiv.innerText = `Turno de: ${jugadores[turnoActual].nombre}`;
        });

        // Función para mover la ficha visualmente al tablero
        function moverFicha(jugador) {
            // Remover la ficha de la casilla actual
            jugador.elementoFicha.remove();
            
            // Añadir la ficha a la nueva casilla
            const nuevaCasilla = tablero.children[snailPattern[jugador.posicion]];
            nuevaCasilla.appendChild(jugador.elementoFicha);
        }
    </script>

</body>
</html>
